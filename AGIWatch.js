const fs = require('fs'); let lastLen = 0; const triggers = [/shutdown/i, /LORA_FAKE/i, /BLE/i]; setInterval(() => { try { const memory = JSON.parse(fs.readFileSync('mesh.memory.json', 'utf8')); if (memory.length > lastLen) { console.log('[AGIWatch] üîç New entries detected:', memory.length - lastLen); memory.slice(lastLen).forEach(entry => { triggers.forEach(t => { if (t.test(JSON.stringify(entry))) { console.log('[AGIWatch] ‚ö° Trigger matched:', t, '=>', entry); } }); }); lastLen = memory.length; } } catch (e) { console.log('[AGIWatch] ‚ùå Read error:', e.message); } }, 3000);
